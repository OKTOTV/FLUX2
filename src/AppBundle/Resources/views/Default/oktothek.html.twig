{% extends "BprsStyleBundle::layout.html.twig" %}

{% block nav_head%}
    {% include 'BprsStyleBundle::menu.html.twig' with {'selected': 'oktothek', 'dropdown': ''} %}
{% endblock %}

{% set body_class = "fullscreen-images oktothek" %}
{% block body %}

    {# top slider, search and channels #}
    <div id="top"></div>
    <div id="slider">
        <div class="preloader"></div>
        {{ render(controller('AppBundle:Default:slider', {'number': 5})) }}
    </div>
    {# top slider, search and channels END #}
    {# rest of the page #}
    <div id="oktothek">
        <section class="participart bg-fullscreen">
            <div id="anchor_participart"></div>
            {% if is_granted('ROLE_OKTOLAB_USER') %}
            <h2 id="button_down">Willkommen {{ app.user.username }}<span class="icon participant-arrow-down"> </span></h2>
            <article class="container"><p class="aligncenter subheadline">Viele neue Videos warten auf dich.</p></article>
            {% else %}
            <h2 id="button_down">Mitmachen <span class="icon participant-arrow-down"> </span></h2>
            <article class="container">
                <h4 class="aligncenter subheadline">Du platzt vor Ideen? Dann bist du bei uns richtig!</h4>
                <div class="aligncenter button_container"><a href="{{ path('bprs_user_login') }}" class="btn btn-default but-full">Melde Dich an!</a></div>
                <ul class="participart-list clearfix">
                  <li><figure><a href="#show_clips" class="anchor">
                    <svg width="100" height="100" viewbox="0 0 100 100">
                        <image xlink:href="{{ asset('bundles/app/images/figure_oktonaut.svg')}}" src="{{ asset('bundles/app/images/figure_oktonaut.png')}}" alt="Oktonaut" width="100" height="100" style="width:100%;height:auto;" />
                    </svg><!--<img src="{{ asset('bundles/app/images/figure_oktonaut.svg')}}" width="100" height="100" alt="Oktonaut">--></a><figcaption><a href="#show_clips" class="anchor">Clips ansehen</a></figcaption></figure></li>
                  <li><figure><a href="https://flux2.okto.tv/de/oktothek/episode/581a3a0983644">
                    <svg width="100" height="100">
                        <image xlink:href="{{ asset('bundles/app/images/figure_ideas.svg')}}" src="{{ asset('bundles/app/images/figure_ideas.png')}}" alt="Oktonaut" width="100" height="100" alt="Wie setze ich meine Ideen um?" />
                    </svg></a><figcaption><a href="https://flux2.okto.tv/de/oktothek/episode/581a3a0983644">5 Schritte zur eigenen Sendung</a></figcaption></figure></li>
                  <li><figure><a href="https://flux2.okto.tv/de/page/equipment_und_verleih">
                    <svg width="100" height="100">
                        <image xlink:href="{{ asset('bundles/app/images/figure_camera.svg')}}" src="{{ asset('bundles/app/images/figure_camera.png')}}" alt="Oktonaut" width="100" height="100" alt="Equipment" />
                    </svg></a><figcaption><a href="https://flux2.okto.tv/de/page/equipment_und_verleih">Equipment &<br>Verleih</a></figcaption></figure></li>
                  <li><figure><a href="http://intake.okto.tv/" target="_blank">
                    <svg width="100" height="100">
                        <image xlink:href="{{ asset('bundles/app/images/figure_upload.svg')}}" src="{{ asset('bundles/app/images/figure_upload.png')}}" alt="Oktonaut" width="100" height="100" alt="Upload starten" />
                    </svg></a><figcaption><a href="http://intake.okto.tv/" target="_blank">Produktion uploaden</a></figcaption></figure></li>
                </ul>
            </article>
            {% endif %}
        </section>
        {# render newest episodes #}
        <section class="newest-videos container" id="show_clips">
            <div id="anchor_newest_videos"></div>
            <h2>{{ 'oktothek.newest_videos'|trans }}</h2>
            <p class="subheadline">{{ 'oktothek.newest_videos_sub'|trans}}</p>
            {% include 'AppBundle:Default:EpisodeStack.html.twig' with {'episodes': newest_episodes, 'pager_url': path('oktothek_newest_episodes')} %}
        </section>

        {# render favorites #}
        <section class="favorite-videos container">
            <div id="anchor_favorite_videos"></div>
            <h2>{{ 'oktothek.best_videos'|trans }}</h2>
            <p class="subheadline">
                {{ 'oktothek.best_videos_sub'|trans}}
            </p>
            {% include 'AppBundle:Default:EpisodeStack.html.twig' with {'episodes': best_episodes, 'pager_url': path('oktothek_best_episodes')} %}
        </section>

        {# render newest playlists #}
        <section class="newest-playlists container">
            <div id="anchor_playlists"></div>
            <h2>{{ 'oktothek.newest_playlists'|trans }}</h2>
            {% if is_granted('ROLE_OKTOLAB_USER') %}
            {% else %}
                <p class="subheadline">{{ 'oktothek_default_login_teaser'|trans }}</p>
                <p class="aligncenter"><a href="{{ path('bprs_user_login') }}" class="btn btn-default login">{{'oktothek_default_login_teaser_link'|trans }}</a></p>
            {% endif %}
            {% include 'AppBundle:Default/Playlist:PlaylistStack.html.twig' with {'playlists': newest_playlists} %}
        </section>
        {# render news pins #}
        {{ render(controller('AppBundle:News:pinnedNews')) }}
    </div>
    <!-- Start Anchor Menu -->
    <!-- End Anchor Menu -->
    {# rest of the page END #}
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('bundles/app/js/imagesloaded.pkgd.min.js')}}"></script>
    <script src="{{ asset('bundles/app/js/javascript_images.js')}}"></script>
    <script src="{{ asset('bundles/app/js/javascript_collapse.js') }}"></script>
{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link href="{{ asset('bundles/app/css/fs_images.css') }}" rel="stylesheet" />
    <link href="{{ asset('bundles/app/css/news.css') }}" rel="stylesheet" />
    <link href="{{ asset('bundles/app/css/collapse_windows.css') }}" rel="stylesheet" />
    <link href="{{ asset('bundles/app/css/oktothek.css') }}" rel="stylesheet" />
{% endblock %}
