{% extends "BprsStyleBundle::layout.html.twig" %}

{% block title %}{{ name|default('OKTO')~' | '~ 'oktothek.newest_episodes_header'|trans }}{% endblock %}
{% block nav_head%}
    {% include 'BprsStyleBundle::menu.html.twig' with {'selected': 'oktothek', 'dropdown': ''} %}
{% endblock %}

{% set body_class = "head-white-color" %}
{% block body_main %}
<div class="page-header">
    <h1>{{ 'oktothek.newest_episodes_header'|trans }}</h1>
    <div class="dropdown">
      <button class="btn btn-default dropdown-toggle" type="button" id="filter_menu" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
        {{ 'oktothek.user_favorites_filter'|trans|raw }}
      </button>
      <ul class="dropdown-menu" aria-labelledby="filter_menu">
        <li {% if episodes.isSorted('e.name') %}class="active"{% endif %}>
            {{ knp_pagination_sortable(episodes, 'oktothek.favorite_index_filter_name'|trans, 'e.name') }}
        </li>
        <li {% if episodes.isSorted('e.firstranAt') %}class="active"{% endif %}>
            {{ knp_pagination_sortable(episodes, 'oktothek.favorite_index_filter_firstranAt'|trans, 'e.firstranAt') }}
        </li>
        <li {% if episodes.isSorted('s.name') %}class="active"{% endif %}>
            {{ knp_pagination_sortable(episodes, 'oktothek.favorite_index_filter_series'|trans, 's.name') }}
        </li>
      </ul>
    </div>
</div>
    <div class="navigation">
        {{ knp_pagination_render(episodes) }}
    </div>
    <div class="row">
    {% for episode in episodes %}
        {% include 'AppBundle:Default:EpisodeThumb.html.twig' %}
    {% endfor %}
    </div>
    <div class="navigation">
        {{ knp_pagination_render(episodes) }}
    </div>

{% endblock %}
